@model PagedList.IPagedList<Gestion.ViewModels.Recontacto>
@using PagedList.Mvc;

<div class="main">
    <div class="main-inner">
        <div class="container">
            <div class="row" style="margin-top: -20px">
                <div class="span10 offset1">
                    <div class="widget">
                        <div class="widget-header">
                            <i class="icon-filter"></i>
                            <h3>Filtros</h3>
                        </div>
                        <!-- /widget-header -->
                        <div class="widget-content" style="margin-top: -10px; padding-bottom: 10px">
                            <form action="@Url.Action("Index")" method="get" class="searchIndex" data-gestion-ajax="true" data-gestion-target="#recontactoList" style="margin-bottom:-10px" >
                                <div class="row">
                                    <div class="span2">
                                        <select id="selTipoGestion" name="selTipoGestion" class="selectpicker" style="width: 100%">
                                            <option value="1">Todas</option>
                                            <option value="2">Gestiones</option>
                                            <option value="3" selected="selected">Programaci&oacute;n</option>
                                        </select>
                                    </div>
                                    <div class="span1">
                                        <input type="text" class="form-control datepicker span1" id="fechaDesde" name="fechaDesde" value="@ViewBag.dftDesde"  data-date-format="dd/mm/yyyy" style="width:100%"  >
                                    </div>
                                    <div class="span1">
                                        <input type="text" class="form-control datepicker span1" id="fechaHasta" name="fechaHasta" value="@ViewBag.dftHasta"  data-date-format="dd/mm/yyyy" style="width:100%" >
                                    </div>

                                    <div class="span3">
                                        <input type="text" class="search-query span3" id="searchName" name="searchName" placeholder="Buscar..." style="width:90%">
                                    </div>
                                    <div class="span1">
                                        <button class="btn btn-primary btn-small btn-actions" style="width:100%" type="submit" id="search_button" name="search_button"><i class="btn-icon-only icon-search"></i></button>
                                    </div>
                                    <div class="span1">
                                        <button class="btn btn-primary btn-small btn-actions" style="width:100%"><i class="btn-icon-only icon-plus-sign"></i></button>
                                    </div>
                                </div>
                            </form>
                            <!-- /bar-chart -->
                        </div>
                        <!-- /widget-content -->
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="span10 offset1">
                    <div class="widget widget-table action-table">
                        <div class="widget-header">
                            <i class="icon-th-list"></i>
                            <h3>Usuarios</h3>
                            <!--<a href="javascript:;" class="btn btn-default btn-small pull-right" style="margin-top:3px;margin-right:3px" ><i class="btn-icon-only icon-plus-sign" style="margin-left:0px"> </i></a> -->
                        </div>
                        <!-- /widget-header -->
                        <div class="widget-content">
                            <table class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th class="span2">@Html.DisplayNameFor(model => model.First().Fecha) </th>
                                        <th class="span3">@Html.DisplayNameFor(model => model.First().Cliente)</th>
                                        <th class="span5">@Html.DisplayNameFor(model => model.First().Observaciones) </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model)
                                    {                              
                                        <tr>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Fecha)
                                            </td>
                                            <td>
                                                @(Html.Raw(item.ClienteID == 0 ? item.Cliente : "<a href=\"/Clientes/Edit/" + item.ClienteID + "\">" + item.Cliente + "</a>"))
                                            </td>
                                            @if (item.Tipo == "G")
                                            {
                                                <td style="background-color: rgb(112, 170, 112); color: white">
                                                    @Html.DisplayFor(modelItem => item.Observaciones)
                                                </td>
                                            }
                                            else
                                            {
                                                <td style="background-color: rgb(162, 16, 16); color: white">
                                                    @Html.DisplayFor(modelItem => item.Observaciones)
                                                </td>
                                            }
                                        </tr>
                                                                               
                                    }

                                </tbody>
                            </table>
                        </div>
                        <!-- /widget-content -->
                    </div>

                </div>
            </div>
            <div class="row">
                <div class="pagedList span4 offset5" data-gestion-target="#recontactoList">

                    @Html.PagedListPager(Model, page => Url.Action("Index", new { page }))

                </div>

                <!-- /row -->
            </div>
            <!-- /container -->
        </div>
        <!-- /main-inner -->
    </div>
</div>

@*<div id="recontactoList">
    <div class="row">
        <div class="span12">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Listado de Recontactos</h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="span12">
                            <table class="table table-hover table-striped table-bordered tableIndex">
                                <thead>
                                    <tr>
                                        <th class="span2 centrado">
                                            @Html.DisplayNameFor(model => model.First().Fecha)
                                        </th>
                                        <th class="span2 centrado">
                                            @Html.DisplayNameFor(model => model.First().Cliente)
                                        </th>
                                        <th class="span2 centrado">
                                            @Html.DisplayNameFor(model => model.First().Observaciones)
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model)
                                    {                              
                                        <tr>
                                            <td class="span2 centrado">
                                                @Html.DisplayFor(modelItem => item.Fecha)
                                            </td>
                                            <td class="span2 centrado">
                                                @(Html.Raw(item.ClienteID == 0 ? item.Cliente : "<a href=\"/Clientes/Edit/" + item.ClienteID + "\">" + item.Cliente + "</a>"))
                                            </td>
                                            @if (item.Tipo == "G")
                                            {
                                                <td class="span8 centrado" style="background-color: rgb(112, 170, 112); color: white">
                                                    @Html.DisplayFor(modelItem => item.Observaciones)
                                                </td>
                                            }
                                            else
                                            {
                                                <td class="span6 centrado" style="background-color: rgb(162, 16, 16); color: white">
                                                    @Html.DisplayFor(modelItem => item.Observaciones)
                                                </td>
                                            }
                                        </tr>
                                           
                                        
                                    }
                                </tbody>

                            </table>

                            <div class="pagedList span4 offset4" data-gestion-target="#recontactoList">

                                @Html.PagedListPager(Model, page => Url.Action("Index", new { page }))

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>*@
